<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Learn how to solve common challenges you might encounter when using gitStream."><meta name=author content=LinearB><link href=../gitStream-playground/ rel=prev><link href=../faq/ rel=next><link rel=icon href=../assets/images/favicon.png><meta name=generator content="mkdocs-1.5.3, mkdocs-material-9.1.0"><title>Troubleshoot gitStream - gitStream Documentation</title><link rel=stylesheet href=../assets/stylesheets/main.402914a4.min.css><link rel=stylesheet href=../assets/stylesheets/palette.a0c5b2b5.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=../stylesheets/extra.css><script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><script id=__analytics>function __md_analytics(){function n(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],n("js",new Date),n("config","G-WE4YLK8TT5"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){this.value&&n("event","search",{search_term:this.value})}),document$.subscribe(function(){var a=document.forms.feedback;if(void 0!==a)for(var e of a.querySelectorAll("[type=submit]"))e.addEventListener("click",function(e){e.preventDefault();var t=document.location.pathname,e=this.getAttribute("data-md-value");n("event","feedback",{page:t,data:e}),a.firstElementChild.disabled=!0;e=a.querySelector(".md-feedback__note [data-md-value='"+e+"']");e&&(e.hidden=!1)}),a.hidden=!1}),location$.subscribe(function(e){n("config","G-WE4YLK8TT5",{page_path:e.pathname})})});var e=document.createElement("script");e.async=!0,e.src="https://www.googletagmanager.com/gtag/js?id=G-WE4YLK8TT5",document.getElementById("__analytics").insertAdjacentElement("afterEnd",e)}</script><script>"undefined"!=typeof __md_analytics&&__md_analytics()</script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary data-md-color-accent> <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#troubleshooting class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class="md-header md-header--shadow" data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=.. title="gitStream Documentation" class="md-header__button md-logo" aria-label="gitStream Documentation" data-md-component=logo> <img src=../assets/gitstream-w.webp alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> gitStream Documentation </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Troubleshoot gitStream </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme=default data-md-color-primary data-md-color-accent aria-label="Switch to dark mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_2 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3Z"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme=slate data-md-color-primary data-md-color-accent aria-label="Switch to light mode" type=radio name=__palette id=__palette_2> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6zm0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4zM7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/></svg> </label> </form> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </label> <nav class=md-search__options aria-label=Search> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg> </button> </nav> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/linear-b/gitstream title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.3.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </div> <div class=md-source__repository> linear-b/gitstream </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=.. title="gitStream Documentation" class="md-nav__button md-logo" aria-label="gitStream Documentation" data-md-component=logo> <img src=../assets/gitstream-w.webp alt=logo> </a> gitStream Documentation </label> <div class=md-nav__source> <a href=https://github.com/linear-b/gitstream title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.3.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </div> <div class=md-source__repository> linear-b/gitstream </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=.. class=md-nav__link> Overview </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2> <label class=md-nav__link for=__nav_2 id=__nav_2_label tabindex=0> Guide <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> Guide </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../github-installation/ class=md-nav__link> GitHub Setup </a> </li> <li class=md-nav__item> <a href=../custom-github-app/ class=md-nav__link> GitHub Server (Custom App) </a> </li> <li class=md-nav__item> <a href=../gitlab-installation/ class=md-nav__link> GitLab Setup </a> </li> <li class=md-nav__item> <a href=../bitbucket-installation/ class=md-nav__link> Bitbucket Cloud Setup </a> </li> <li class=md-nav__item> <a href=../managed-mode/ class=md-nav__link> Managed Mode </a> </li> <li class=md-nav__item> <a href=../how-it-works/ class=md-nav__link> How gitStream works </a> </li> <li class=md-nav__item> <a href=../quick-start/ class=md-nav__link> Your First Automation </a> </li> <li class=md-nav__item> <a href=../dry-run-mode/ class=md-nav__link> How to Test Your Automations </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../examples/ class=md-nav__link> Quickstart </a> </li> <li class=md-nav__item> <a href=../automations/automation-library/ class=md-nav__link> Automation Library </a> </li> <li class=md-nav__item> <a href=../integrations/ class=md-nav__link> Integrations </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6> <label class=md-nav__link for=__nav_6 id=__nav_6_label tabindex=0> Reference <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_6_label aria-expanded=false> <label class=md-nav__title for=__nav_6> <span class="md-nav__icon md-icon"></span> Reference </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../cm-file/ class=md-nav__link> Configuration </a> </li> <li class=md-nav__item> <a href=../execution-model/ class=md-nav__link> Trigger Control </a> </li> <li class=md-nav__item> <a href=../limits/ class=md-nav__link> Automation Limits </a> </li> <li class=md-nav__item> <a href=../context-variables/ class=md-nav__link> Context variables </a> </li> <li class=md-nav__item> <a href=../filter-functions/ class=md-nav__link> Filter functions </a> </li> <li class=md-nav__item> <a href=../automation-actions/ class=md-nav__link> Automation actions </a> </li> <li class=md-nav__item> <a href=../user-commands/ class=md-nav__link> User commands </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_7> <label class=md-nav__link for=__nav_7 id=__nav_7_label tabindex=0> Plugins <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_7_label aria-expanded=false> <label class=md-nav__title for=__nav_7> <span class="md-nav__icon md-icon"></span> Plugins </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../plugins/ class=md-nav__link> Overview </a> </li> <li class=md-nav__item> <a href=../plugins-for-developers/ class=md-nav__link> Plugins Development </a> </li> <li class=md-nav__item> <a href=../filter-function-plugins/ class=md-nav__link> Filter Functions Plugins List </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../gitStream-playground/ class=md-nav__link> Playground </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> Troubleshooting <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> Troubleshooting </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#i-cant-see-any-action-running class=md-nav__link> I can't see any action running </a> <nav class=md-nav aria-label="I can't see any action running"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#did-you-install-gitstream-in-your-repo class=md-nav__link> Did you install gitStream in your repo? </a> </li> <li class=md-nav__item> <a href=#did-you-set-the-workflow-files-correctly class=md-nav__link> Did you set the workflow files correctly? </a> </li> <li class=md-nav__item> <a href=#does-your-organization-allows-3rd-party-actions class=md-nav__link> Does your organization allows 3rd party actions? </a> </li> <li class=md-nav__item> <a href=#adding-new-repo-make-sure-to-enable-gitstream-for-it class=md-nav__link> Adding new repo? Make sure to enable gitStream for it </a> </li> <li class=md-nav__item> <a href=#using-org-level-did-you-enable-gitstream-for-your-cm-repo class=md-nav__link> Using org level? Did you enable gitStream for your cm repo </a> </li> <li class=md-nav__item> <a href=#are-you-using-the-default-runners-along-with-the-ip-allow-list-feature-on-github class=md-nav__link> Are you using the default runners along with the "IP allow list" feature on GitHub? </a> </li> <li class=md-nav__item> <a href=#is-the-pr-in-draft-mode class=md-nav__link> Is the PR in Draft mode? </a> </li> <li class=md-nav__item> <a href=#i-see-gitstream-workflow-file-not-found-error class=md-nav__link> I see 'gitStream workflow file not found' error </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#i-have-rules-that-should-have-blocked-merge-but-the-pr-can-be-merged-still class=md-nav__link> I have rules that should have blocked merge, but the PR can be merged still </a> </li> <li class=md-nav__item> <a href=#i-cant-set-gitstream-as-required-check class=md-nav__link> I can't set gitStream as required check </a> </li> <li class=md-nav__item> <a href=#i-dont-want-gitstream-to-run-on-prs-that-was-generated-by-a-bot class=md-nav__link> I don't want gitStream to run on PRs that was generated by a bot </a> </li> <li class=md-nav__item> <a href=#pr-author-usernames-containing-linearb-prevent-gitstream-from-running class=md-nav__link> PR author usernames containing "linearb" prevent gitStream from running </a> </li> <li class=md-nav__item> <a href=#gitstream-fails-and-i-dont-understand-why class=md-nav__link> gitStream fails and I don't understand why </a> <nav class=md-nav aria-label="gitStream fails and I don't understand why"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#missing-workflow-file class=md-nav__link> Missing workflow file </a> </li> <li class=md-nav__item> <a href=#syntax-error-in-the-cm-files class=md-nav__link> Syntax error in the cm files </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#gitstream-fails-when-using-template-strings-with-special-characters-eg-colon class=md-nav__link> gitStream fails when using template strings with special characters (e.g., colon ':') </a> </li> <li class=md-nav__item> <a href=#gitlab-self-managed-in-restricted-networks class=md-nav__link> GitLab self-managed in restricted networks </a> <nav class=md-nav aria-label="GitLab self-managed in restricted networks"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#gitstream-cant-reach-gitlab-timeouts-403s-or-no-webhook-follow-up class=md-nav__link> gitStream can't reach GitLab (timeouts, 403s, or no webhook follow-up) </a> </li> <li class=md-nav__item> <a href=#tlscertificate-mismatch-when-gitlab-is-exposed-by-ip class=md-nav__link> TLS/certificate mismatch when GitLab is exposed by IP </a> </li> <li class=md-nav__item> <a href=#pipeline-starts-but-fails-pulling-images-no-logs-or-timeouts class=md-nav__link> Pipeline starts but fails pulling images (no logs or timeouts) </a> </li> <li class=md-nav__item> <a href=#pipeline-stuck-on-waiting-for-pod-containersnotready class=md-nav__link> Pipeline stuck on "Waiting for pod ... ContainersNotReady" </a> </li> <li class=md-nav__item> <a href=#clone-url-is-malformed-eg-ssh-or-unexpected-port class=md-nav__link> Clone URL is malformed (e.g., ssh/// or unexpected port) </a> </li> <li class=md-nav__item> <a href=#docker-runs-but-fails-to-write-into-the-mounted-repo class=md-nav__link> Docker runs but fails to write into the mounted repo </a> </li> <li class=md-nav__item> <a href=#api-calls-succeed-locally-but-fail-to-post-mr-updates class=md-nav__link> API calls succeed locally but fail to post MR updates </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#github-timeout-issues-with-large-repositories class=md-nav__link> GitHub timeout issues with large repositories </a> </li> <li class=md-nav__item> <a href=#how-can-i-debug-expressions-and-see-their-content class=md-nav__link> How can I debug expressions and see their content? </a> </li> <li class=md-nav__item> <a href=#gitstream-fails-with-syntax-error-after-adding-new-rules class=md-nav__link> gitStream fails with syntax error after adding new rules </a> </li> <li class=md-nav__item> <a href=#not-here class=md-nav__link> Not here? </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../faq/ class=md-nav__link> FAQ </a> </li> <li class=md-nav__item> <a href=https://app.gitstream.cm/login class=md-nav__link> Login </a> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#i-cant-see-any-action-running class=md-nav__link> I can't see any action running </a> <nav class=md-nav aria-label="I can't see any action running"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#did-you-install-gitstream-in-your-repo class=md-nav__link> Did you install gitStream in your repo? </a> </li> <li class=md-nav__item> <a href=#did-you-set-the-workflow-files-correctly class=md-nav__link> Did you set the workflow files correctly? </a> </li> <li class=md-nav__item> <a href=#does-your-organization-allows-3rd-party-actions class=md-nav__link> Does your organization allows 3rd party actions? </a> </li> <li class=md-nav__item> <a href=#adding-new-repo-make-sure-to-enable-gitstream-for-it class=md-nav__link> Adding new repo? Make sure to enable gitStream for it </a> </li> <li class=md-nav__item> <a href=#using-org-level-did-you-enable-gitstream-for-your-cm-repo class=md-nav__link> Using org level? Did you enable gitStream for your cm repo </a> </li> <li class=md-nav__item> <a href=#are-you-using-the-default-runners-along-with-the-ip-allow-list-feature-on-github class=md-nav__link> Are you using the default runners along with the "IP allow list" feature on GitHub? </a> </li> <li class=md-nav__item> <a href=#is-the-pr-in-draft-mode class=md-nav__link> Is the PR in Draft mode? </a> </li> <li class=md-nav__item> <a href=#i-see-gitstream-workflow-file-not-found-error class=md-nav__link> I see 'gitStream workflow file not found' error </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#i-have-rules-that-should-have-blocked-merge-but-the-pr-can-be-merged-still class=md-nav__link> I have rules that should have blocked merge, but the PR can be merged still </a> </li> <li class=md-nav__item> <a href=#i-cant-set-gitstream-as-required-check class=md-nav__link> I can't set gitStream as required check </a> </li> <li class=md-nav__item> <a href=#i-dont-want-gitstream-to-run-on-prs-that-was-generated-by-a-bot class=md-nav__link> I don't want gitStream to run on PRs that was generated by a bot </a> </li> <li class=md-nav__item> <a href=#pr-author-usernames-containing-linearb-prevent-gitstream-from-running class=md-nav__link> PR author usernames containing "linearb" prevent gitStream from running </a> </li> <li class=md-nav__item> <a href=#gitstream-fails-and-i-dont-understand-why class=md-nav__link> gitStream fails and I don't understand why </a> <nav class=md-nav aria-label="gitStream fails and I don't understand why"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#missing-workflow-file class=md-nav__link> Missing workflow file </a> </li> <li class=md-nav__item> <a href=#syntax-error-in-the-cm-files class=md-nav__link> Syntax error in the cm files </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#gitstream-fails-when-using-template-strings-with-special-characters-eg-colon class=md-nav__link> gitStream fails when using template strings with special characters (e.g., colon ':') </a> </li> <li class=md-nav__item> <a href=#gitlab-self-managed-in-restricted-networks class=md-nav__link> GitLab self-managed in restricted networks </a> <nav class=md-nav aria-label="GitLab self-managed in restricted networks"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#gitstream-cant-reach-gitlab-timeouts-403s-or-no-webhook-follow-up class=md-nav__link> gitStream can't reach GitLab (timeouts, 403s, or no webhook follow-up) </a> </li> <li class=md-nav__item> <a href=#tlscertificate-mismatch-when-gitlab-is-exposed-by-ip class=md-nav__link> TLS/certificate mismatch when GitLab is exposed by IP </a> </li> <li class=md-nav__item> <a href=#pipeline-starts-but-fails-pulling-images-no-logs-or-timeouts class=md-nav__link> Pipeline starts but fails pulling images (no logs or timeouts) </a> </li> <li class=md-nav__item> <a href=#pipeline-stuck-on-waiting-for-pod-containersnotready class=md-nav__link> Pipeline stuck on "Waiting for pod ... ContainersNotReady" </a> </li> <li class=md-nav__item> <a href=#clone-url-is-malformed-eg-ssh-or-unexpected-port class=md-nav__link> Clone URL is malformed (e.g., ssh/// or unexpected port) </a> </li> <li class=md-nav__item> <a href=#docker-runs-but-fails-to-write-into-the-mounted-repo class=md-nav__link> Docker runs but fails to write into the mounted repo </a> </li> <li class=md-nav__item> <a href=#api-calls-succeed-locally-but-fail-to-post-mr-updates class=md-nav__link> API calls succeed locally but fail to post MR updates </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#github-timeout-issues-with-large-repositories class=md-nav__link> GitHub timeout issues with large repositories </a> </li> <li class=md-nav__item> <a href=#how-can-i-debug-expressions-and-see-their-content class=md-nav__link> How can I debug expressions and see their content? </a> </li> <li class=md-nav__item> <a href=#gitstream-fails-with-syntax-error-after-adding-new-rules class=md-nav__link> gitStream fails with syntax error after adding new rules </a> </li> <li class=md-nav__item> <a href=#not-here class=md-nav__link> Not here? </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <a href=https://github.com/linear-b/gitstream/edit/main/docs/troubleshooting.md title="Edit this page" class="md-content__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4v-2m10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1 2.1 2.1Z"/></svg> </a> <h1 id=troubleshooting>Troubleshooting</h1> <h2 id=i-cant-see-any-action-running>I can't see any action running</h2> <h4 id=did-you-install-gitstream-in-your-repo>Did you install gitStream in your repo?</h4> <p>Check that you see gitStream app on repository's Settings &gt; GitHub apps:</p> <p><img alt="GitHub App installed" src=../screenshots/app_in_github.png> In case you don't see it, visit the marketplace and install it for free: https://github.com/marketplace/gitstream-by-linearb</p> <h4 id=did-you-set-the-workflow-files-correctly>Did you set the workflow files correctly?</h4> <p>Check you have placed these two files in your repository with these exact names:</p> <ol> <li><code>gitstream.cm</code> in the <code>cm</code> repo, (for org level installs), or <code>.cm/gitstream.cm</code> on all other repositories</li> <li><code>.github/workflows/gitstream.yml</code></li> </ol> <p>These files must be committed to the repository default branch (usually <code>master</code> or <code>main</code>). Notice that the action will not run until these files are found on the default branch.</p> <p>Check that you see "gitStream workflow automation" in the Action section in your repository:</p> <p><img alt="GitHub action" src=../screenshots/github_pr_actions_section.png></p> <p>Next, if you see a failed action, check out the details:</p> <p><img alt="GitHub action log" src=../screenshots/github_pr_actions_log.png></p> <h4 id=does-your-organization-allows-3rd-party-actions>Does your organization allows 3rd party actions?</h4> <p>Some organizations limit which actions can run, in that case, in the repository settings, you should enable it:</p> <p><img alt="GitHub allow marketplace actions" src=../screenshots/github_settings_allow_actions.png></p> <p>Also, add <div class=highlight><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a>linear-b/gitstream-github-action@v2,linear-b/gitstream-github-action@v2-lite,*/*/.github/workflows/gitstream.yml*
</code></pre></div> to the <strong>Allow specified actions and reusable workflows</strong> list, if it is shown. <img alt="GitHub allow marketplace actions" src=../screenshots/github_settings_allow_specified_actions.png></p> <h4 id=adding-new-repo-make-sure-to-enable-gitstream-for-it>Adding new repo? Make sure to enable gitStream for it</h4> <ol> <li>Go to https://github.com/apps/gitstream-cm and then</li> <li>click the <code>Configure</code> button</li> <li>If you see organization selection, choose the relevant org</li> <li>Scroll down to <code>Repository access</code></li> <li>Make sure the repo you want is covered, i.e. either <code>All repositories</code> is checked or the repo is checked in the <code>Only select repositories</code> list</li> </ol> <p><img alt="GitHub repository access" src=../screenshots/github_repository_access.png></p> <h4 id=using-org-level-did-you-enable-gitstream-for-your-cm-repo>Using org level? Did you enable gitStream for your <code>cm</code> repo</h4> <p>Make sure you have added the <code>cm</code> repo to the repos gitStream should run on <img alt="GitHub cm repo" src=../screenshots/repo_in_org_setup.png></p> <h4 id=are-you-using-the-default-runners-along-with-the-ip-allow-list-feature-on-github>Are you using the default runners along with the "IP allow list" feature on GitHub?</h4> <p><a href=https://docs.github.com/en/enterprise-cloud@latest/organizations/keeping-your-organization-secure/managing-security-settings-for-your-organization/managing-allowed-ip-addresses-for-your-organization#using-github-actions-with-an-ip-allow-list target=_blank>According to GitHub</a>, in order to use GitHub actions with the allow list, you must use self-hosted runners or GitHub-hosted larger runners with static IP address ranges and add their IP to the allow list.</p> <p>When using GitHub's default runners, you will encounter the following error: "The repository owner has an IP allow list enabled, and [IP] is not permitted to access this repository," which indicates that GitHub is blocking the action. You can verify if the IP is part of GitHub's CIDR ranges by using the following <a href=https://api.github.com/meta target=_blank>list</a></p> <h4 id=is-the-pr-in-draft-mode>Is the PR in Draft mode?</h4> <p>gitStream automations won't trigger for PRs that are in Draft mode.</p> <h4 id=i-see-gitstream-workflow-file-not-found-error>I see 'gitStream workflow file not found' error</h4> <p>This error indicates that gitStream is unable to locate the file <code>.github/workflows/gitstream.yml</code>. The tool first searches for this file in the <code>cm</code> repository and then in the PR's repository. If the CI file is not found, this error message is displayed. To resolve this issue, ensure that your setup is correct and that the specified file exists in your repository.</p> <h2 id=i-have-rules-that-should-have-blocked-merge-but-the-pr-can-be-merged-still>I have rules that should have blocked merge, but the PR can be merged still</h2> <p>For example, when using the <a href=/automation-actions#set-required-approvals><code>set-required-approvals</code></a> action, gitStream can ensure the PR got enough approvals before it can be merged. gitStream does that by running as a check and marking the check conclusion as failed. In order for the PR to be blocked, gitStream should be set as a required check in the repo: <a href=/github-installation#github-merge-block>instructions here</a>.</p> <p><img alt="Merge enabled" src=../screenshots/merge-enabled-example.png></p> <h2 id=i-cant-set-gitstream-as-required-check>I can't set gitStream as required check</h2> <p>In order for gitStream to be listed as a required check, it needs to be triggered at least once in that repo. First create a new PR so gitStream is triggered.</p> <p>Check it under repository's Settings &gt; Branches:</p> <p><img alt="Branch protection rules" src=../screenshots/branch_protection_in_github.png></p> <p><img alt="Required checks" src=../screenshots/required_checks_in_github.png></p> <h2 id=i-dont-want-gitstream-to-run-on-prs-that-was-generated-by-a-bot>I don't want gitStream to run on PRs that was generated by a bot</h2> <p>When using repository level rules, you can edit the <code>.github/workflows/gitstream.yml</code> and uncomment the <code>if</code> line, you can edit and replace the bot name with the bot name you want to ignore (<code>dependabot[bot]</code> in the example below).</p> <div class="admonition note"> <p class=admonition-title>Note</p> <p>This will not work for org level rules</p> </div> <div class=highlight><span class=filename>.github/workflows/gitstream.yml</span><pre><span></span><code><a id=__codelineno-1-1 name=__codelineno-1-1 href=#__codelineno-1-1></a><span class=nt>jobs</span><span class=p>:</span>
<a id=__codelineno-1-2 name=__codelineno-1-2 href=#__codelineno-1-2></a><span class=w>  </span><span class=nt>gitStream</span><span class=p>:</span>
<a id=__codelineno-1-3 name=__codelineno-1-3 href=#__codelineno-1-3></a><span class=w>    </span><span class=nt>timeout-minutes</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">5</span>
<a id=__codelineno-1-4 name=__codelineno-1-4 href=#__codelineno-1-4></a><span class=w>    </span><span class=c1># uncomment this condition, if you don&#39;t want any automation on dependabot PRs</span>
<a id=__codelineno-1-5 name=__codelineno-1-5 href=#__codelineno-1-5></a><span class=hll><span class=w>    </span><span class=nt>if</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">github.actor != &#39;dependabot[bot]&#39;</span>
</span><a id=__codelineno-1-6 name=__codelineno-1-6 href=#__codelineno-1-6></a><span class=w>    </span><span class=nt>runs-on</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">ubuntu-latest</span>
<a id=__codelineno-1-7 name=__codelineno-1-7 href=#__codelineno-1-7></a><span class=w>    </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">gitStream workflow automation</span>
<a id=__codelineno-1-8 name=__codelineno-1-8 href=#__codelineno-1-8></a><span class=w>    </span><span class=nt>steps</span><span class=p>:</span>
<a id=__codelineno-1-9 name=__codelineno-1-9 href=#__codelineno-1-9></a><span class=w>      </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Evaluate Rules</span>
<a id=__codelineno-1-10 name=__codelineno-1-10 href=#__codelineno-1-10></a><span class=w>        </span><span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">linear-b/gitstream-github-action@v2</span>
</code></pre></div> <h2 id=pr-author-usernames-containing-linearb-prevent-gitstream-from-running>PR author usernames containing "linearb" prevent gitStream from running</h2> <p>If a PR is created by a user whose GitHub username contains the substring "linearb" (case-insensitive), gitStream will not run on that PR. This is a built-in restriction to prevent gitStream from processing its own internal automated PRs.</p> <h2 id=gitstream-fails-and-i-dont-understand-why>gitStream fails and I don't understand why</h2> <p>gitStream check run can fail from different reasons, and these are shown in the check result.</p> <h4 id=missing-workflow-file>Missing workflow file</h4> <p><img alt="Check failure" src=../screenshots/file_not_found_error.png></p> <p>When it says <code>gitStream.cm Skipped — gitStream workflow file not found</code>, it means that: - The GitHub action was not found, check again that you have this file in your repository root: <code>.github/workflows/gitstream.yml</code>, see instructions on <a href=/github-installation>GitHub installation</a> - When using org level, then the required <code>cm</code> <strong>repo</strong> may not be in the GitHub application allowed repositories list. See instructions above: <a href=#using-org-level-did-you-enable-gitstream-for-your-cm-repo>enable gitStream for your <code>cm</code> repo</a></p> <h4 id=syntax-error-in-the-cm-files>Syntax error in the cm files</h4> <p><img alt="Check failure" src=../screenshots/check_syntax_failure.png></p> <p>Clicking the <code>Details</code> button will show more information and context.</p> <p><img alt="Check error details" src=../screenshots/check_syntax_failure_details.png></p> <p>You can add this automation to see details on context variable.</p> <h2 id=gitstream-fails-when-using-template-strings-with-special-characters-eg-colon>gitStream fails when using template strings with special characters (e.g., colon ':')</h2> <p>If a template string (e.g., pull request title, description, or other context variables) contains special characters such as a colon (<code>:</code>), gitStream might fail with a YAML parsing error due to invalid syntax.</p> <p>To resolve this issue, ensure you properly escape special characters by using Nunjucks multiline strings. For example:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-2-1 name=__codelineno-2-1 href=#__codelineno-2-1></a><span class=nt>comment</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">|</span>
<a id=__codelineno-2-2 name=__codelineno-2-2 href=#__codelineno-2-2></a><span class=w>  </span><span class=cp>{{</span> <span class=nv>pr.title</span> <span class=cp>}}</span>
</code></pre></div> <h2 id=gitlab-self-managed-in-restricted-networks>GitLab self-managed in restricted networks</h2> <p>If gitStream is installed in GitLab and nothing happens (or the CI job starts but fails in different places), the issue is often related to network allowlists, TLS configuration, or runner policies. Use the checkpoints below to narrow it down.</p> <h4 id=gitstream-cant-reach-gitlab-timeouts-403s-or-no-webhook-follow-up>gitStream can't reach GitLab (timeouts, 403s, or no webhook follow-up)</h4> <p>Make sure your GitLab allowlist includes the LinearB/gitStream service IPs and your runner IPs. See the allowlist notes in <a href=/gitlab-installation#gitlab-installation-overview>GitLab installation</a>.</p> <h4 id=tlscertificate-mismatch-when-gitlab-is-exposed-by-ip>TLS/certificate mismatch when GitLab is exposed by IP</h4> <p>You may see an error like: <div class=highlight><pre><span></span><code><a id=__codelineno-3-1 name=__codelineno-3-1 href=#__codelineno-3-1></a>Error: Hostname/IP does not match certificate&#39;s altnames
</code></pre></div> This usually means the GitLab URL is an IP address, but the TLS certificate was issued for a hostname. Use a hostname that matches the certificate, or reissue the certificate with the IP in its SANs. If you run gitStream in a managed environment, contact support to align SSL validation with the host you expose.</p> <h4 id=pipeline-starts-but-fails-pulling-images-no-logs-or-timeouts>Pipeline starts but fails pulling images (no logs or timeouts)</h4> <p>If your runners can’t reach DockerHub, mirror the required images in your private registry (for example <code>docker:latest</code>, <code>docker:dind</code>, <code>gitstream/rules-engine:latest</code>) and update your <code>.gitlab-ci.yml</code> to pull from that registry. See <a href=/gitlab-installation#gitlab-installation-overview>GitLab installation</a> for the registry customization option.</p> <h4 id=pipeline-stuck-on-waiting-for-pod-containersnotready>Pipeline stuck on "Waiting for pod ... ContainersNotReady"</h4> <p>Kubernetes/GitLab runners often disallow privileged mode, which Docker-in-Docker requires. Either allow privileged DIND on the runner or run gitStream with a container runtime your runner allows (for example Podman) and remove the DIND dependency from the pipeline.</p> <h4 id=clone-url-is-malformed-eg-ssh-or-unexpected-port>Clone URL is malformed (e.g., <code>ssh///</code> or unexpected port)</h4> <p>If your org injects SSH URLs or a custom port into <code>repoUrl</code>/<code>cmUrl</code>, normalize the URL in your CI script before cloning (remove the SSH prefix/port and enforce the correct https URL).</p> <h4 id=docker-runs-but-fails-to-write-into-the-mounted-repo>Docker runs but fails to write into the mounted repo</h4> <p>If the runner checks out files as <code>root</code> and the container runs as a non-root user, update ownership/permissions on the checkout directory before running the container, or run the container as the same user that owns the files.</p> <h4 id=api-calls-succeed-locally-but-fail-to-post-mr-updates>API calls succeed locally but fail to post MR updates</h4> <p>If the <code>client_payload</code> (or derived repo URL) points to an external IP/host not reachable from your internal network, replace the host in <code>client_payload</code> with the internal GitLab endpoint, or align GitLab's external URL with the hostname reachable by your runners.</p> <h2 id=github-timeout-issues-with-large-repositories>GitHub timeout issues with large repositories</h2> <p>If you're experiencing timeout issues during GitHub Actions execution, particularly with large repositories or monorepos, this is typically caused by the time required to clone the entire repository history.</p> <p>You can resolve this by using the <strong>lite version</strong> of the gitStream GitHub Action, which performs a shallow clone to reduce execution time:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-4-1 name=__codelineno-4-1 href=#__codelineno-4-1></a><span class=nt>jobs</span><span class=p>:</span>
<a id=__codelineno-4-2 name=__codelineno-4-2 href=#__codelineno-4-2></a><span class=w>  </span><span class=nt>gitStream</span><span class=p>:</span>
<a id=__codelineno-4-3 name=__codelineno-4-3 href=#__codelineno-4-3></a><span class=w>    </span><span class=nt>timeout-minutes</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">15</span>
<a id=__codelineno-4-4 name=__codelineno-4-4 href=#__codelineno-4-4></a><span class=w>    </span><span class=nt>runs-on</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">ubuntu-latest</span>
<a id=__codelineno-4-5 name=__codelineno-4-5 href=#__codelineno-4-5></a><span class=w>    </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">gitStream workflow automation</span>
<a id=__codelineno-4-6 name=__codelineno-4-6 href=#__codelineno-4-6></a><span class=w>    </span><span class=nt>steps</span><span class=p>:</span>
<a id=__codelineno-4-7 name=__codelineno-4-7 href=#__codelineno-4-7></a><span class=w>      </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Evaluate Rules</span>
<a id=__codelineno-4-8 name=__codelineno-4-8 href=#__codelineno-4-8></a><span class=w>        </span><span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">linear-b/gitstream-github-action@v2-lite</span>
<a id=__codelineno-4-9 name=__codelineno-4-9 href=#__codelineno-4-9></a><span class=w>        </span><span class=nt>id</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">rules-engine</span>
</code></pre></div> <p><strong>Important limitations of the lite version:</strong> - Automations that rely on Git history (such as <code>code-experts</code>) may not work properly due to the shallow clone - Historical data analysis features will be limited - Some context variables that depend on full Git history may return incomplete results</p> <div class=result> <p><span> <a class=md-button href=/downloads/gitstream-lite.yml><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4.75 17.25a.75.75 0 0 1 .75.75v2.25c0 .138.112.25.25.25h12.5a.25.25 0 0 0 .25-.25V18a.75.75 0 0 1 1.5 0v2.25A1.75 1.75 0 0 1 18.25 22H5.75A1.75 1.75 0 0 1 4 20.25V18a.75.75 0 0 1 .75-.75Z"/><path d="M5.22 9.97a.749.749 0 0 1 1.06 0l4.97 4.969V2.75a.75.75 0 0 1 1.5 0v12.189l4.97-4.969a.749.749 0 1 1 1.06 1.06l-6.25 6.25a.749.749 0 0 1-1.06 0l-6.25-6.25a.749.749 0 0 1 0-1.06Z"/></svg></span> Download gitstream.yml (lite version)</a> </span></p> </div> <h2 id=how-can-i-debug-expressions-and-see-their-content>How can I debug expressions and see their content?</h2> <p>You can dump any context value to the PR comment. For example, to see the list of changed files, use:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-5-1 name=__codelineno-5-1 href=#__codelineno-5-1></a><span class=nt>automations</span><span class=p>:</span>
<a id=__codelineno-5-2 name=__codelineno-5-2 href=#__codelineno-5-2></a><span class=w>  </span><span class=nt>show_changed_files</span><span class=p>:</span>
<a id=__codelineno-5-3 name=__codelineno-5-3 href=#__codelineno-5-3></a><span class=w>    </span><span class=nt>if</span><span class=p>:</span>
<a id=__codelineno-5-4 name=__codelineno-5-4 href=#__codelineno-5-4></a><span class=w>      </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<a id=__codelineno-5-5 name=__codelineno-5-5 href=#__codelineno-5-5></a><span class=w>    </span><span class=nt>run</span><span class=p>:</span>
<a id=__codelineno-5-6 name=__codelineno-5-6 href=#__codelineno-5-6></a><span class=w>      </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>action</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">add-comment@v1</span>
<a id=__codelineno-5-7 name=__codelineno-5-7 href=#__codelineno-5-7></a><span class=w>        </span><span class=nt>args</span><span class=p>:</span>
<a id=__codelineno-5-8 name=__codelineno-5-8 href=#__codelineno-5-8></a><span class=w>          </span><span class=nt>comment</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">|</span>
<a id=__codelineno-5-9 name=__codelineno-5-9 href=#__codelineno-5-9></a><span class=w>            </span><span class=no>FILES DUMP </span><span class=cp>{{</span> <span class=nv>files</span> <span class=o>|</span> <span class=nf>dump</span> <span class=o>|</span> <span class=nf>safe</span> <span class=cp>}}</span>
<a id=__codelineno-5-10 name=__codelineno-5-10 href=#__codelineno-5-10></a><span class=w>            </span><span class=no>JS FILES DUMP </span><span class=cp>{{</span> <span class=nv>files</span> <span class=o>|</span> <span class=nf>filter</span><span class=o>(</span><span class=nv>regex</span><span class=o>=</span><span class=nv>r</span><span class=o>/</span><span class=err>\</span><span class=nv>.js</span><span class=err>$</span><span class=o>/)</span> <span class=o>|</span> <span class=nf>dump</span> <span class=o>|</span> <span class=nf>safe</span> <span class=cp>}}</span>
</code></pre></div> <div class=result> <p><span> <a class=md-button href=/downloads/debug.cm><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4.75 17.25a.75.75 0 0 1 .75.75v2.25c0 .138.112.25.25.25h12.5a.25.25 0 0 0 .25-.25V18a.75.75 0 0 1 1.5 0v2.25A1.75 1.75 0 0 1 18.25 22H5.75A1.75 1.75 0 0 1 4 20.25V18a.75.75 0 0 1 .75-.75Z"/><path d="M5.22 9.97a.749.749 0 0 1 1.06 0l4.97 4.969V2.75a.75.75 0 0 1 1.5 0v12.189l4.97-4.969a.749.749 0 1 1 1.06 1.06l-6.25 6.25a.749.749 0 0 1-1.06 0l-6.25-6.25a.749.749 0 0 1 0-1.06Z"/></svg></span> Download and add to your repo .cm directory</a> </span></p> </div> <h2 id=gitstream-fails-with-syntax-error-after-adding-new-rules>gitStream fails with syntax error after adding new rules</h2> <p><strong>IntelliJ IDEA</strong> has automatic code styling for YAML that can break the <code>.cm</code> syntax, check the following <em>Settings/Preferences | Editor | Code Style | YAML --&gt; Spaces | Code braces</em> and make sure it is unchecked.</p> <p><img alt="Intellij settings" src=../screenshots/intellij_settings_code_braces.png></p> <p><strong>VS Code</strong> YAML plugin by Red Hat extension <code>[vscode-yaml](https://github.com/redhat-developer/vscode-yaml)</code> has automatic code styling for YAML that can break the <code>.cm</code> syntax, make sure you disable <code>bracketSpacing</code> <div class=highlight><pre><span></span><code><a id=__codelineno-6-1 name=__codelineno-6-1 href=#__codelineno-6-1></a><span class=p>{</span>
<a id=__codelineno-6-2 name=__codelineno-6-2 href=#__codelineno-6-2></a><span class=w>    </span><span class=nt>&quot;yaml.format.bracketSpacing&quot;</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=p>,</span>
<a id=__codelineno-6-3 name=__codelineno-6-3 href=#__codelineno-6-3></a><span class=p>}</span>
</code></pre></div></p> <h2 id=not-here>Not here?</h2> <p>Create a new issue in the <a href=https://github.com/linear-b/gitstream/issues>project's issues</a></p> </article> </div> </div> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> Copyright &copy; 2024 LinearB, Inc. </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> <div class=md-social> <a href=https://github.com/linear-b/gitstream/ target=_blank rel=noopener title=github.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.3.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "..", "features": ["header.autohide", "content.code.copy", "content.code.annotate", "content.action.edit"], "search": "../assets/javascripts/workers/search.208ed371.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script> <script src=../assets/javascripts/bundle.ce72ebac.min.js></script> </body> </html>